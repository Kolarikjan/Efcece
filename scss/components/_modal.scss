@use "../abstracts/colors" as c;
@use "../abstracts/fonts" as f;
@use "../abstracts/radiuses" as r;
@use "../abstracts/functions" as *;
@use "../abstracts/mixins" as *;

// ... Zbytek stylů (wrapper, card, header, swatches) je stejný jako v předchozím kroku ...

// Pouze pro jistotu zopakuji MODAL styly, aby bylo jasné, že jsou potřeba
.modal {
    display: none; 
    position: fixed; // Fixní vůči oknu prohlížeče
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2000; // Musí být nejvýš
    
    &-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(c.$black, 0.6);
        backdrop-filter: blur(4px);
    }

    &-container {
        position: relative;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        max-width: rem(800);
        max-height: 90vh;
        background-color: c.$white;
        border-radius: r.$medium;
        box-shadow: 0 rem(20) rem(40) rgba(c.$black, 0.2);
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    &-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: rem(20) rem(30);
        border-bottom: rem(1) solid c.$gray-light;
    }

    &-title {
        font-size: rem(24);
        font-weight: 600;
        margin: 0;
    }

    &-close-btn {
        background: none;
        border: none;
        cursor: pointer;
        padding: rem(5);
        color: c.$black;
        transition: color 0.3s ease;
        svg { width: rem(24); height: rem(24); }
        &:hover { color: c.$red; }
    }

    &-body {
        padding: rem(30);
        overflow-y: auto;
    }

    &-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(rem(220), 1fr));
        gap: rem(20);
    }

    &-item {
        border: rem(1) solid c.$gray-light;
        border-radius: r.$small;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s ease;
        background-color: c.$white;
        display: flex;
        flex-direction: column;

        &:hover {
            border-color: c.$black;
            transform: translateY(rem(-5));
            box-shadow: 0 rem(10) rem(20) rgba(c.$black, 0.1);
        }

        &-image {
            width: 100%;
            height: rem(150);
            overflow: hidden;
            background-color: c.$gray-light;
            img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: transform 0.3s ease;
            }
        }

        &:hover &-image img { transform: scale(1.05); }

        &-content { padding: rem(15); text-align: center; }

        &-title {
            display: block;
            font-size: rem(18);
            font-weight: 600;
            margin-bottom: rem(5);
            color: c.$black;
        }

        &-desc {
            display: block;
            font-size: rem(14);
            color: c.$gray;
            line-height: 1.4;
        }
    }
}